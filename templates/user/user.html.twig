{% extends 'base.html.twig' %}

{% block title %}Categories
{% endblock %}

{% block body %}
	<div class="container">
		<h1 class="text-primary text-center mt-3">Liste des utillisateurs</h1><br>
		<br>
		{% include "layouts/_flash_message.html.twig" %}
		<table class="table">
			<thead>
				<tr>
					<th class="text-primary">Id</th>
					<th class="text-primary">Email</th>
                    <th class="text-primary">Nom</th>
                    <th class="text-primary">Prénom</th>
                    <th class="text-primary">Roles</th>
					<th class="text-primary">Actions</th>
				</tr>
			</thead>
			<tbody>
				{% for user in users %}
					<tr>
						<td>{{ user.id }}</td> 
						<td>{{ user.email }}</td>
                        <td>{{ user.firstName }}</td>
                        <td>{{ user.lastName }}</td>
                        <td>{{ user.roles | join(', ') }}</td>
						<td>
							<a href="{{ path('app_category_new', {'id': user.id}) }}" class="btn btn-success">Ajouter</a>
							|
							<a href="{{ path('app_category_update', {'id': user.id}) }}" class="btn btn-primary">Modifier</a>
							|
							<a href="{{ path('app_category_delete', {'id': user.id}) }}" onclick="return confirm ('Voulez-vous vraiment supprimer cette catégorie ?')" class="btn btn-danger">Supprimer</a>
						</td>
					</tr>
				{% else %}
					<p class="text-primary">Aucune categorie ajouté pour l'instant</p>


				{% endfor %}
			</tbody>


		</table>
		<br>
		<a href="{{ path('app_category_new') }}" class="btn btn-primary">Ajouter un utilisateur</a>
		<a href="{{ path('app_logout') }}" class="btn btn-primary">Deconnexion</a>
	</div>

{% endblock %}
